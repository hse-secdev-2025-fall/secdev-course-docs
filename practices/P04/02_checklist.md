# P04 — Чек-лист сдачи и критерии (0/★1/★★2)

**Шкала:**
- **0** — не выполнено/ошибки;
- **★ 1 (базовый)** — выполнено по инструкции на учебном шаблоне;
- **★★ 2 (проектный)** — выполнено на **своём** сервисе/домене с согласованием с P03.

---

## C1. DFD с границами доверия
**0:** Нет DFD или отсутствуют trust boundaries.  
**★ 1:** Есть корректный DFD: узлы, потоки, trust boundaries отмечены; минимум одна диаграмма.  
**★★ 2:** DFD сделан для своего сервиса, с несколькими уровнями (контекст, логика, процессы), потоки подписаны (`F1`, `F2` …).  

**Доказательства:** `docs/DFD.md`, изображение (Draw.io, Mermaid, Threat Dragon).  
**Баллы:** 0…2; **LO:** RO4

---

## C2. STRIDE-угрозы (покрытие)
**0:** Список угроз мал или случайный.  
**★ 1:** Определены угрозы по STRIDE для основных узлов и потоков; ≥8 угроз.  
**★★ 2:** Угрозы покрывают ключевой контур проекта (≥12 угроз); обоснованы исключения («не применимо»).  

**Доказательства:** `docs/STRIDE.md` — таблица: Узел/Поток → Угроза → STRIDE-категория.  
**Баллы:** 0…2; **LO:** RO4

---

## C3. Меры/контроли и приоритет
**0:** Нет мер или приоритетов.  
**★ 1:** Для каждой угрозы указана мера + приоритет (например, High/Medium/Low или CVSS).  
**★★ 2:** Приоритеты основаны на рисках домена; выделены «быстрые выигрыши» (quick wins), есть связь с NFR из P03.  

**Доказательства:** `docs/RISKS.md` или регистр угроз/контролей.  
**Баллы:** 0…2; **LO:** RO4

---

## C4. Связь с backlog/DevSecOps
**0:** Нет заведённых задач.  
**★ 1:** Созданы задачи на реализацию мер (Issues/PR).  
**★★ 2:** Задачи заведены в своём проекте/репозитории; есть приоритеты и назначенные исполнители.  

**Доказательства:** Ссылки/скрины GitHub Issues, Project Board, Milestones.  
**Баллы:** 0…2; **LO:** RO4

---

## C5. Применение к компоненту проекта
**0:** Нет привязки к коду.  
**★ 1:** Продемонстрирован пример на учебном шаблоне (например, добавлен лимит запросов).  
**★★ 2:** Выбран конкретный компонент своего проекта; меры из модели угроз отражены в коде/конфиге (например, Rate limiting, CORS, валидация входа).  

**Доказательства:** PR с изменениями + обновлённая диаграмма DFD.  
**Баллы:** 0…2; **LO:** RO4

---

## Что сдаём в PR
- `docs/DFD.md` — диаграмма(ы) с trust boundaries;  
- `docs/STRIDE.md` — таблица угроз;  
- `docs/RISKS.md` — регистр угроз и мер;  
- Ссылки/скрины Issues/PR с заведёнными задачами;  
- Коммит/PR с хотя бы одним исправлением/контролем;  
- CI зелёный, шаблон PR заполнен.
