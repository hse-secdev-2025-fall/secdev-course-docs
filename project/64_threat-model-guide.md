# Модель угроз - практическое руководство (DFD/STRIDE)

## Шаги
1) Определить **активы** и акторов: пользователи, админ, внешние сервисы.  
2) Нарисовать **DFD** (контуры доверия, процессы, хранилища, потоки).  
3) Составить таблицу STRIDE по узлам/потокам.  
4) Оценить риск (High/Med/Low) и наметить **меры**.  
5) Создать Issues/PR для внедрения мер.

## Минимальная таблица STRIDE
| Узел/поток | S | T | R | I | D | E | Риск | Меры |
|---|:--:|:--:|:--:|:--:|:--:|:--:|---|---|
| /auth/login |   | ✓ | ✓ |   |   |   | Med | rate limit, lockout |
| /items/{{id}} |   |   |   | ✓ | ✓ |   | High | проверка владельца, маскирование ошибок |
| DB (users) | ✓ |   |   |   |   | ✓ | High | хеш паролей, минимальные права |
| Logs |   |   |   |   |   | ✓ | High | маскирование ПДн |

## Артефакты
- `docs/threat-model/dfd.png` (или .drawio), `docs/threat-model/stride.xlsx`.
- Список Issues «TM-…» с мерами.

## Советы
- Делайте **мелкие итерации**: первичная TM на P04, уточнения по мере развития.
- Не «перелистывайте» - закрывайте меры PR-ами с тестами.
